---
trust-domain: mobile
task-priority: highest

taskgraph:
  register: firefox_tv_taskgraph:register
  repositories:
    mobile:
      name: "Firefox TV"
  cached-task-prefix: project.mobile.firefox-tv

workers:
  aliases:
    b-android:
      provisioner: aws-provisioner-v1
      implementation: docker-worker
      os: linux
      worker-type: 'mobile-{level}-b-firefox-tv'
    images:
      provisioner: aws-provisioner-v1
      implementation: docker-worker
      os: linux
      worker-type: 'mobile-{level}-images'
    dep-signing:
      provisioner: scriptworker-prov-v1
      implementation: scriptworker-signing
      os: scriptworker
      worker-type: mobile-signing-dep-v1
    signing:
      provisioner: scriptworker-prov-v1
      implementation: scriptworker-signing
      os: scriptworker
      worker-type:
        by-level:
          "3": mobile-signing-v1
          default: mobile-signing-dep-v1
    push-apk:
      provisioner: scriptworker-prov-v1
      implementation: scriptworker
      os: scriptworker
      worker-type:
        by-level:
          "3": mobile-pushapk-v1
          default: mobile-pushapk-dep-v1
    t-bitbar.*:
      provisioner: proj-autophone
      implementation: generic-worker
      os: linux-bitbar
      worker-type: 'gecko-{alias}'

scriptworker:
  scope-prefix: project:mobile:firefox-tv:releng
